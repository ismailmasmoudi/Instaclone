let posts = [{
    'author': 'Tagesschau',
    'logos': './logo1.png',
    'images': './post1.jpg',
    'description': 'Football is a family of team sports that involve, to varying degrees, kicking a ball to score a goal. Unqualified, the word football normally means the form of football that is the most popular where the word is used. Sports commonly called football include association football (known as soccer in Australia, Canada, South Africa, the United States,',
    'location': 'London, United Kingdom',
    'days': '• 1 Std •',
    "isLiked": true, // // True, wenn der Post bereits von dir geliked wurde
    "likes": 0,
    "comments": ['Kommentar für Post 0', 'Kommentar 2 für Post 0'],
    "isSaved": false
},
{
    'author': 'Cafee',
    'logos': './logo2.jpg',
    'images': './post2.jpg',
    'description': 'Visiting a nice café, especially during the weekends, is one of my favourite things to do. Thankfully, there are plenty of cafes in my old town to help me do that, and today, I will talk about one of those cafes here',
    'location': 'Liverpool, United Kingdom',
    'days': '• 17 Std •',
    "isLiked": false,
    "likes": 5,
    "comments": ['Kommentar für Post 1', 'Kommentar 2 für Post 1'],
    "isSaved": true
},
{
    'author': 'Books.22',
    'logos': './logo3.jpg',
    'images': './post3.jpg',
    'description': 'People say that if we read books, it will make us smart, and if we read too much of it, we will become “bookworm”. Not sure, if I am smart or a bookworm, but I do love to read books once in a while if they are a good read. Today, I would like to talk about one such book called “The Alchemist”, a novel, written by a Brazilian writer named “Paulo Coelho”. "The Alchemist", is said by many, continues to change the lives of its readers forever. This book has established itself as a modern classic, universally admired and loved by people.',
    'location': 'Madrid, Spain',
    'days': '• 20 Std •',
    "isLiked": true,
    "likes": 199,
    "comments": ['Kommentar für Post 2', 'Kommentar 2 für Post 2'],
    "isSaved": false
},
{
    'author': 'Xbox players',
    'logos': './logo5.jpg',
    'images': './post4.jpg',
    'description': 'Always forgive your enemies; nothing annoys them so much.',
    'location': 'Madrid, Spain',
    'days': '• 1 Tag •',
    "isLiked": true,
    "likes": 1001,
    "comments": ['Kommentar für Post 3', 'Kommentar 2 für Post 3'],
    "isSaved": true
},
{
    'author': 'Ikea ',
    'logos': './logo6.jpg',
    'images': './post5.jpg',
    'description': 'If you tell the truth, you dont have to remember anything.',
    'location': 'Madrid, Spain',
    'days': '• 2 Tage •',
    "isLiked": true,
    "likes": 456,
    "comments": ['Kommentar für Post 4', 'Kommentar 2 für Post 4'],
    "isSaved": true
},
{
    'author': 'Dz lovers',
    'logos': './logo8.jpg',
    'images': './post6.jpg',
    'description': 'Be the change that you wish to see in the world. ',
    'location': 'Madrid, Spain',
    'days': '• 6 Tage •',
    "isLiked": false,
    "likes": 888,
    "comments": ['Kommentar für Post 5', 'Kommentar 2 für Post 5'],
    "isSaved": true
},
{
    'author': 'Madrid Fans',
    'logos': './logo7.jpg',
    'images': './post7.jpg',
    'description': 'People say that if we read books, it will make us smart, and if we read too much of it, we will become “bookworm”. Not sure, if I am smart or a bookworm, but I do love to read books once in a while if they are a good read. Today, I would like to talk about one such book called “The Alchemist”, a novel, written by a Brazilian writer named “Paulo Coelho”. "The Alchemist", is said by many, continues to change the lives of its readers forever. This book has established itself as a modern classic, universally admired and loved by people.',
    'location': 'Madrid, Spain',
    'days': '• 1 Woche •',
    "isLiked": false,
    "likes": 565,
    "comments": ['Kommentar für Post 6', 'Kommentar 2 für Post 6'],
    "isSaved": true
},
{
    'author': 'Bob Marly',
    'logos': './logo9.jpg',
    'images': './post8.jpg',
    'description': 'Be yourself; everyone else is already taken',
    'location': 'Los Angeles, USA',
    'days': '•  9 Tage •',
    "isLiked": true,
    "likes": 981,
    "comments": ['Kommentar für Post 7', 'Kommentar 2 für Post 7'],
    "isSaved": true
},
{
    'author': 'Hoha.22',
    'logos': './logo10.jpg',
    'images': './post9.jpg',
    'description': 'Two things are infinite: the universe and human stupidity and Im not sure about the universe.',
    'location': 'Barcelona, Spain',
    'days': '• 10 Tage •',
    "isLiked": false,
    "likes": 277,
    "comments": ['Kommentar für Post 8', 'Kommentar 2 für Post 8'],
    "isSaved": true

},
{
    'author': 'New Games',
    'logos': './logo3.jpg',
    'images': './post3.jpg',
    'description': 'You have gotta dance like there has nobody watching  Love like youll never be hurt Sing like theres nobody listening  And live like its heaven on earth.',
    'location': 'Granada, Spain',
    'days': '• 2 Wochen •',
    "isLiked": true,
    "likes": 22,
    "comments": ['Kommentar für Post 9', 'Kommentar 2 für Post 9'],
    "isSaved": false
}
];
let storys = [{
    'storypics': './logo4.jpg',
    'storyauthor': 'halona.22'
},
{
    'storypics': './logo5.jpg',
    'storyauthor': 'autowelt'
},
{
    'storypics': './logo1.png',
    'storyauthor': 'Tagesschau'
},
{
    'storypics': './logo13.jpg',
    'storyauthor': 'love.ever'
},
{
    'storypics': './logo3.jpg',
    'storyauthor': 'Book.22'
},
{
    'storypics': './logo6.jpg',
    'storyauthor': 'De.motors'
},
{
    'storypics': './logo7.jpg',
    'storyauthor': 'Animals'
},
{
    'storypics': './logo8.jpg',
    'storyauthor': 'jajo2656'
},
{
    'storypics': './post5.jpg',
    'storyauthor': 'kimo60'
},
{
    'storypics': './post4.jpg',
    'storyauthor': 'Müller44'
},
{
    'storypics': './post3.jpg',
    'storyauthor': 'workspaces'
},
{
    'storypics': './post6.jpg',
    'storyauthor': 'famous.news'
},
{
    'storypics': './post7.jpg',
    'storyauthor': 'bob fans'
},
{
    'storypics': './post2.jpg',
    'storyauthor': 'pop.rock'
},
{
    'storypics': './post8.jpg',
    'storyauthor': 'musik.forever'
},
{
    'storypics': './post9.jpg',
    'storyauthor': 'nini65'
}
];
let propositions = [{
    'profilpic': './logo14.jpg',
    'author': 'Tomennn256'
},
{
    'profilpic': './logo9.jpg',
    'author': 'fflapetinee692'
},
{
    'profilpic': './logo10.jpg',
    'author': 'beast55'
},
{
    'profilpic': './logo11.jpg',
    'author': 'daniel47'
},
{
    'profilpic': './logo12.jpg',
    'author': 'oly.new22'
}];

// displays all arrays in body 
function render() {
    let content = document.getElementById('content');
    content.innerHTML = '';
    renderStorys();
    for (i = 0; i < posts.length; i++) {
        let content = document.getElementById('content');
        content.innerHTML += htmlCodeRenderPosts(i);
        renderComment();
        renderLikes(i);
        renderSavedPosts(i);
        renderpropositions();
        PostCommentActiv(i);
    }
}

// displays storys arrays in body 
function renderStorys() {
    let Storyscontent = document.getElementById('story-content');
    Storyscontent.innerHTML = '';
    for (i = 0; i < storys.length; i++) {
        let story = storys[i];
        let storypic = story['storypics'];
        let storyauthor = story['storyauthor'];
        Storyscontent.innerHTML +=/*html*/`
<div class="story-card">
<div class="gradient-story-image"><a ><img  class="story-image" src="${storypic}" ></a></div> 
<a ><p>${storyauthor}</p></a>
</div>
        ` }
}

// displays propositions arrays in body 
function renderpropositions() {
    let propositionsContent = document.getElementById('propositions-friends');
    propositionsContent.innerHTML = '';
    for (f = 0; f < propositions.length; f++) {
        propositionsContent.innerHTML +=/*html*/ htmlCodeRenderProposition(f);
    }
}

// Changes follow button
function followChangeButton(f) {
    let follow = document.getElementById(`follow-folgen${f}`);
    follow.innerHTML = `<a onclick="requestChangeButton(${f})"   class="request-anker" >Angefragt</a>`;
}

// Changes request button
function requestChangeButton(f) {
    let follow = document.getElementById(`follow-folgen${f}`);
    follow.innerHTML = `<a onclick="followChangeButton(${f})"   class="follow-anker" >Folgen</a>`;
}

// displays array Comments from array Posts in body
function renderComment() {
    let commentContain = document.getElementById(`comment${i}`);
    let postAsText = localStorage.getItem(`post${i}`);
    if (postAsText) {
        comment = JSON.parse(postAsText).comments;
    }
    else {
        const postComment = posts[i];
        comment = postComment['comments'];
    }
    for (let j = 0; j < comment.length; j++) {
        commentAsText = comment[j];
        commentContain.innerHTML += `<div class="comment-container"><a><b>Anonyme </b></a> ${commentAsText}</div>`;
    }
}

// Adds a comment in post
function addComment(i) {
    loadPostsFromLocalStorage(i);
    const postComment = posts[i];
    let comment = postComment['comments'];
    let inputComment = document.getElementById(`inputComment${i}`);
    comment.push(inputComment.value);
    savePosts(i);
    render();
}

// save posts array in local storage
function savePosts(i) {
    let postObject = posts[i];
    let postAsText = JSON.stringify(postObject);
    localStorage.setItem(`post${i}`, postAsText);
}

// load posts array from local storage in body
function loadPostsFromLocalStorage(i) {
    let postAsText = localStorage.getItem(`post${i}`);
    if (postAsText) {
        let postComment = posts[i];
        postComment['comments'] = JSON.parse(postAsText).comments;
        likeElement = JSON.parse(postAsText).isLiked;
        SaveElement = JSON.parse(postAsText).isSaved;
        likeNumber = JSON.parse(postAsText).likes;
    }
}

// displays array likes from array Posts in body
function renderLikes(i) {
    loadPostsFromLocalStorage(i);
    let postElement = posts[i];
    let postLike = postElement['likes'];
    let likeContain = document.getElementById(`likeContaier${i}`);
    let likeIconContainer = document.getElementById(`like-icon${i}`);
    let postAsText = localStorage.getItem(`post${i}`);
    if (postAsText) { likeElement = JSON.parse(postAsText).isLiked; }
    else { likeElement = postElement['isLiked']; }
    if (likeElement == true) {
        likeIconContainer.innerHTML = ` <a onclick="dislike(${i})" > <img  class="like-icons-red-heart" src="./like-red.png" alt="like-icon" ></a>`;
        likeContain.innerHTML = `<p><b>Gefällt ${postLike + 1} Mal</b></p>`;
    }
    else {
        likeIconContainer.innerHTML = ` <a onclick="onLike(${i})" > <img  class="like-icons" src="./like-white.png" alt="like-icon" >`;
        likeContain.innerHTML = `<p><b>Gefällt ${postLike} Mal</b></p>`;
    }
}

// Likes a post in body 
function onLike(i) {
    const post = posts[i];
    post['isLiked'] = true;
    let likeIconContainer = document.getElementById(`like-icon${i}`);
    likeIconContainer.innerHTML = ` <a onclick="dislike(${i})" > <img  class="like-icons-red-heart" src="./like-red.png" alt="like-icon" ></a>`;
    let postLike = post['likes'];
    let likeContain = document.getElementById(`likeContaier${i}`);
    likeContain.innerHTML = `<p><b>Gefällt ${postLike + 1} Mal</b></p>`;
    savePosts(i);
    renderLikes(i);
}

// Dislikes a post in body 
function dislike(i) {
    const post = posts[i];
    post['isLiked'] = false;

    let likeIconContainer = document.getElementById(`like-icon${i}`);
    likeIconContainer.innerHTML = ` <a onclick="onLike(${i})" > <img  class="like-icons" src="./like-white.png" alt="like-icon" >`;

    let postLike = post['likes'];
    let likeContain = document.getElementById(`likeContaier${i}`);
    likeContain.innerHTML = `<p><b>Gefällt ${postLike} Mal</b></p>`;
    savePosts(i);
    renderLikes(i);
}

// displays array isSaved from array Posts in body
function renderSavedPosts(i) {
    loadPostsFromLocalStorage(i);
    let post = posts[i];
    let saveButton = document.getElementById(`save-button${i}`);
    let postAsText = localStorage.getItem(`post${i}`);
    if (postAsText) { savedPost = JSON.parse(postAsText).isSaved; }
    else { savedPost = post['isSaved']; }
    if (savedPost == true) {
        saveButton.innerHTML = `<a onclick="unsaveChangeButton(${i})" > <img class="like-icons-save-black" src="./save-black.png" alt="saved-icon"></a>`;
    }
    else {
        saveButton.innerHTML = `<a onclick="saveChangeButton(${i})" > <img class="like-icons-save-black" src="./save-white.png" alt="saved-icon"></a>`;
    }
}

